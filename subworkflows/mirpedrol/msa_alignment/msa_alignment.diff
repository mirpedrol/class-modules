Changes in component 'mirpedrol/msa_alignment'
'subworkflows/mirpedrol/msa_alignment/meta.yml' is unchanged
Changes in 'msa_alignment/main.nf':
--- subworkflows/mirpedrol/msa_alignment/main.nf
+++ subworkflows/mirpedrol/msa_alignment/main.nf
@@ -55,7 +55,7 @@
     ch_out_alignment = ch_out_alignment.mix(LEARNMSA_ALIGN.out.alignment)
     ch_out_versions = ch_out_versions.mix(LEARNMSA_ALIGN.out.versions)
 
-    MAFFT_ALIGN( ch_fasta_branch.mafft_align, ch_fasta_branch.mafft_align, ch_fasta_branch.mafft_align, ch_fasta_branch.mafft_align, ch_fasta_branch.mafft_align, ch_fasta_branch.mafft_align, [] )
+    MAFFT_ALIGN( ch_fasta_branch.mafft_align, [[], []], [[], []], [[], []], [[], []], [[], []], [] )
     ch_out_alignment = ch_out_alignment.mix(MAFFT_ALIGN.out.fas)
     ch_out_versions = ch_out_versions.mix(MAFFT_ALIGN.out.versions)
 

'subworkflows/mirpedrol/msa_alignment/tests/main.nf.test.snap' was created
'subworkflows/mirpedrol/msa_alignment/tests/nextflow.config' was created
Changes in 'msa_alignment/tests/main.nf.test':
--- subworkflows/mirpedrol/msa_alignment/tests/main.nf.test
+++ subworkflows/mirpedrol/msa_alignment/tests/main.nf.test
@@ -16,6 +16,7 @@
     tag "subworkflows/../../modules/nf-core/muscle5/super5"
     tag "subworkflows/../../modules/nf-core/tcoffee/align"
 
+    config './nextflow.config'
 
     test("clustalo/align") {
 
@@ -71,7 +72,8 @@
         }
     }
 
-    test("learnmsa/align") {
+    test("learnmsa/align - stub") {
+        options "-stub"
 
         when {
             workflow {
@@ -84,7 +86,7 @@
         then {
             assertAll(
                 { assert workflow.success },
-                { assert snapshot(workflow.out).match("learnmsa/align") },
+                { assert snapshot(workflow.out).match("learnmsa/align - stub") },
             )
         }
     }
@@ -120,7 +122,12 @@
         then {
             assertAll(
                 { assert workflow.success },
-                { assert snapshot(workflow.out).match("magus/align") },
+                { assert path(workflow.out.alignment[0][1]).getText().contains("1atx") },
+                { assert path(workflow.out.alignment[0][1]).getText().contains("1bds") },
+                { assert path(workflow.out.alignment[0][1]).getText().contains("1sh1") },
+                { assert path(workflow.out.alignment[0][1]).getText().contains("1apf") },
+                { assert path(workflow.out.alignment[0][1]).getText().contains("1ahl") },
+                { assert snapshot(workflow.out.versions).match("magus/align") },
             )
         }
     }

************************************************************
